start: program

program: s_expr*

?s_expr: atom
| list

list: "(" s_expr* ")"

OP: "+" | "-" | "*" | "/" | "%" | "==" | "!=" | "<" | ">" | "<=" | ">=" | "&&" | "||" | "!" | "=" | "++" | "--" | "+=" | "-=" | "*=" | "/=" | "%=" | ">>" | "<<" | "&" | "|" | "^" | "~" | ">>>" | "<<<" | ">>=" | "<<=" | ">>>=" | "&&=" | "||=" | "&=" | "|=" | "^=" | "~=" | ">>=" | "<<=" | ">>>=" | "<<<=" | "=>" | "->" | "::" | ":" | "?" | "??"

ident: /[^\W\d-][\w\d-]*/ | OP
symbol: "#" ident

?atom: ident
    | SIGNED_NUMBER -> number
    | ESCAPED_STRING -> string
    | symbol



COMMENT: /;.*/

%import common.LETTER
%import common.DIGIT
%import common.SIGNED_NUMBER
%import common.ESCAPED_STRING
%import common.WS

%ignore COMMENT
%ignore WS
